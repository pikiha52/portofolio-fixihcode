{"ast":null,"code":"\"use strict\"; // Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultTransporter = void 0;\n\nconst gaxios_1 = require(\"gaxios\");\n\nconst options_1 = require(\"./options\"); // eslint-disable-next-line @typescript-eslint/no-var-requires\n\n\nconst pkg = require('../../package.json');\n\nconst PRODUCT_NAME = 'google-api-nodejs-client';\n\nclass DefaultTransporter {\n  constructor() {\n    /**\n     * A configurable, replacable `Gaxios` instance.\n     */\n    this.instance = new gaxios_1.Gaxios();\n  }\n  /**\n   * Configures request options before making a request.\n   * @param opts GaxiosOptions options.\n   * @return Configured options.\n   */\n\n\n  configure(opts = {}) {\n    opts.headers = opts.headers || {};\n\n    if (typeof window === 'undefined') {\n      // set transporter user agent if not in browser\n      const uaValue = opts.headers['User-Agent'];\n\n      if (!uaValue) {\n        opts.headers['User-Agent'] = DefaultTransporter.USER_AGENT;\n      } else if (!uaValue.includes(`${PRODUCT_NAME}/`)) {\n        opts.headers['User-Agent'] = `${uaValue} ${DefaultTransporter.USER_AGENT}`;\n      } // track google-auth-library-nodejs version:\n\n\n      if (!opts.headers['x-goog-api-client']) {\n        const nodeVersion = process.version.replace(/^v/, '');\n        opts.headers['x-goog-api-client'] = `gl-node/${nodeVersion}`;\n      }\n    }\n\n    return opts;\n  }\n  /**\n   * Makes a request using Gaxios with given options.\n   * @param opts GaxiosOptions options.\n   * @param callback optional callback that contains GaxiosResponse object.\n   * @return GaxiosPromise, assuming no callback is passed.\n   */\n\n\n  request(opts) {\n    // ensure the user isn't passing in request-style options\n    opts = this.configure(opts);\n    (0, options_1.validate)(opts);\n    return this.instance.request(opts).catch(e => {\n      throw this.processError(e);\n    });\n  }\n\n  get defaults() {\n    return this.instance.defaults;\n  }\n\n  set defaults(opts) {\n    this.instance.defaults = opts;\n  }\n  /**\n   * Changes the error to include details from the body.\n   */\n\n\n  processError(e) {\n    const res = e.response;\n    const err = e;\n    const body = res ? res.data : null;\n\n    if (res && body && body.error && res.status !== 200) {\n      if (typeof body.error === 'string') {\n        err.message = body.error;\n        err.status = res.status;\n      } else if (Array.isArray(body.error.errors)) {\n        err.message = body.error.errors.map(err2 => err2.message).join('\\n');\n        err.code = body.error.code;\n        err.errors = body.error.errors;\n      } else {\n        err.message = body.error.message;\n        err.code = body.error.code;\n      }\n    } else if (res && res.status >= 400) {\n      // Consider all 4xx and 5xx responses errors.\n      err.message = body;\n      err.status = res.status;\n    }\n\n    return err;\n  }\n\n}\n\nexports.DefaultTransporter = DefaultTransporter;\n/**\n * Default user agent.\n */\n\nDefaultTransporter.USER_AGENT = `${PRODUCT_NAME}/${pkg.version}`;","map":{"version":3,"sources":["/Users/fikihalan/Documents/source/frontend/portofolio-fixihcode/node_modules/google-auth-library/build/src/transporters.js"],"names":["Object","defineProperty","exports","value","DefaultTransporter","gaxios_1","require","options_1","pkg","PRODUCT_NAME","constructor","instance","Gaxios","configure","opts","headers","window","uaValue","USER_AGENT","includes","nodeVersion","process","version","replace","request","validate","catch","e","processError","defaults","res","response","err","body","data","error","status","message","Array","isArray","errors","map","err2","join","code"],"mappings":"AAAA,a,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6B,KAAK,CAAlC;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAD,CAAxB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAzB,C,CACA;;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,oBAAD,CAAnB;;AACA,MAAMG,YAAY,GAAG,0BAArB;;AACA,MAAML,kBAAN,CAAyB;AACrBM,EAAAA,WAAW,GAAG;AACV;AACR;AACA;AACQ,SAAKC,QAAL,GAAgB,IAAIN,QAAQ,CAACO,MAAb,EAAhB;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIC,EAAAA,SAAS,CAACC,IAAI,GAAG,EAAR,EAAY;AACjBA,IAAAA,IAAI,CAACC,OAAL,GAAeD,IAAI,CAACC,OAAL,IAAgB,EAA/B;;AACA,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AAC/B;AACA,YAAMC,OAAO,GAAGH,IAAI,CAACC,OAAL,CAAa,YAAb,CAAhB;;AACA,UAAI,CAACE,OAAL,EAAc;AACVH,QAAAA,IAAI,CAACC,OAAL,CAAa,YAAb,IAA6BX,kBAAkB,CAACc,UAAhD;AACH,OAFD,MAGK,IAAI,CAACD,OAAO,CAACE,QAAR,CAAkB,GAAEV,YAAa,GAAjC,CAAL,EAA2C;AAC5CK,QAAAA,IAAI,CAACC,OAAL,CAAa,YAAb,IACK,GAAEE,OAAQ,IAAGb,kBAAkB,CAACc,UAAW,EADhD;AAEH,OAT8B,CAU/B;;;AACA,UAAI,CAACJ,IAAI,CAACC,OAAL,CAAa,mBAAb,CAAL,EAAwC;AACpC,cAAMK,WAAW,GAAGC,OAAO,CAACC,OAAR,CAAgBC,OAAhB,CAAwB,IAAxB,EAA8B,EAA9B,CAApB;AACAT,QAAAA,IAAI,CAACC,OAAL,CAAa,mBAAb,IAAqC,WAAUK,WAAY,EAA3D;AACH;AACJ;;AACD,WAAON,IAAP;AACH;AACD;AACJ;AACA;AACA;AACA;AACA;;;AACIU,EAAAA,OAAO,CAACV,IAAD,EAAO;AACV;AACAA,IAAAA,IAAI,GAAG,KAAKD,SAAL,CAAeC,IAAf,CAAP;AACA,KAAC,GAAGP,SAAS,CAACkB,QAAd,EAAwBX,IAAxB;AACA,WAAO,KAAKH,QAAL,CAAca,OAAd,CAAsBV,IAAtB,EAA4BY,KAA5B,CAAkCC,CAAC,IAAI;AAC1C,YAAM,KAAKC,YAAL,CAAkBD,CAAlB,CAAN;AACH,KAFM,CAAP;AAGH;;AACW,MAARE,QAAQ,GAAG;AACX,WAAO,KAAKlB,QAAL,CAAckB,QAArB;AACH;;AACW,MAARA,QAAQ,CAACf,IAAD,EAAO;AACf,SAAKH,QAAL,CAAckB,QAAd,GAAyBf,IAAzB;AACH;AACD;AACJ;AACA;;;AACIc,EAAAA,YAAY,CAACD,CAAD,EAAI;AACZ,UAAMG,GAAG,GAAGH,CAAC,CAACI,QAAd;AACA,UAAMC,GAAG,GAAGL,CAAZ;AACA,UAAMM,IAAI,GAAGH,GAAG,GAAGA,GAAG,CAACI,IAAP,GAAc,IAA9B;;AACA,QAAIJ,GAAG,IAAIG,IAAP,IAAeA,IAAI,CAACE,KAApB,IAA6BL,GAAG,CAACM,MAAJ,KAAe,GAAhD,EAAqD;AACjD,UAAI,OAAOH,IAAI,CAACE,KAAZ,KAAsB,QAA1B,EAAoC;AAChCH,QAAAA,GAAG,CAACK,OAAJ,GAAcJ,IAAI,CAACE,KAAnB;AACAH,QAAAA,GAAG,CAACI,MAAJ,GAAaN,GAAG,CAACM,MAAjB;AACH,OAHD,MAIK,IAAIE,KAAK,CAACC,OAAN,CAAcN,IAAI,CAACE,KAAL,CAAWK,MAAzB,CAAJ,EAAsC;AACvCR,QAAAA,GAAG,CAACK,OAAJ,GAAcJ,IAAI,CAACE,KAAL,CAAWK,MAAX,CACTC,GADS,CACJC,IAAD,IAAUA,IAAI,CAACL,OADV,EAETM,IAFS,CAEJ,IAFI,CAAd;AAGAX,QAAAA,GAAG,CAACY,IAAJ,GAAWX,IAAI,CAACE,KAAL,CAAWS,IAAtB;AACAZ,QAAAA,GAAG,CAACQ,MAAJ,GAAaP,IAAI,CAACE,KAAL,CAAWK,MAAxB;AACH,OANI,MAOA;AACDR,QAAAA,GAAG,CAACK,OAAJ,GAAcJ,IAAI,CAACE,KAAL,CAAWE,OAAzB;AACAL,QAAAA,GAAG,CAACY,IAAJ,GAAWX,IAAI,CAACE,KAAL,CAAWS,IAAtB;AACH;AACJ,KAhBD,MAiBK,IAAId,GAAG,IAAIA,GAAG,CAACM,MAAJ,IAAc,GAAzB,EAA8B;AAC/B;AACAJ,MAAAA,GAAG,CAACK,OAAJ,GAAcJ,IAAd;AACAD,MAAAA,GAAG,CAACI,MAAJ,GAAaN,GAAG,CAACM,MAAjB;AACH;;AACD,WAAOJ,GAAP;AACH;;AAlFoB;;AAoFzB9B,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B;AACA;AACA;AACA;;AACAA,kBAAkB,CAACc,UAAnB,GAAiC,GAAET,YAAa,IAAGD,GAAG,CAACc,OAAQ,EAA/D","sourcesContent":["\"use strict\";\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultTransporter = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst options_1 = require(\"./options\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst pkg = require('../../package.json');\nconst PRODUCT_NAME = 'google-api-nodejs-client';\nclass DefaultTransporter {\n    constructor() {\n        /**\n         * A configurable, replacable `Gaxios` instance.\n         */\n        this.instance = new gaxios_1.Gaxios();\n    }\n    /**\n     * Configures request options before making a request.\n     * @param opts GaxiosOptions options.\n     * @return Configured options.\n     */\n    configure(opts = {}) {\n        opts.headers = opts.headers || {};\n        if (typeof window === 'undefined') {\n            // set transporter user agent if not in browser\n            const uaValue = opts.headers['User-Agent'];\n            if (!uaValue) {\n                opts.headers['User-Agent'] = DefaultTransporter.USER_AGENT;\n            }\n            else if (!uaValue.includes(`${PRODUCT_NAME}/`)) {\n                opts.headers['User-Agent'] =\n                    `${uaValue} ${DefaultTransporter.USER_AGENT}`;\n            }\n            // track google-auth-library-nodejs version:\n            if (!opts.headers['x-goog-api-client']) {\n                const nodeVersion = process.version.replace(/^v/, '');\n                opts.headers['x-goog-api-client'] = `gl-node/${nodeVersion}`;\n            }\n        }\n        return opts;\n    }\n    /**\n     * Makes a request using Gaxios with given options.\n     * @param opts GaxiosOptions options.\n     * @param callback optional callback that contains GaxiosResponse object.\n     * @return GaxiosPromise, assuming no callback is passed.\n     */\n    request(opts) {\n        // ensure the user isn't passing in request-style options\n        opts = this.configure(opts);\n        (0, options_1.validate)(opts);\n        return this.instance.request(opts).catch(e => {\n            throw this.processError(e);\n        });\n    }\n    get defaults() {\n        return this.instance.defaults;\n    }\n    set defaults(opts) {\n        this.instance.defaults = opts;\n    }\n    /**\n     * Changes the error to include details from the body.\n     */\n    processError(e) {\n        const res = e.response;\n        const err = e;\n        const body = res ? res.data : null;\n        if (res && body && body.error && res.status !== 200) {\n            if (typeof body.error === 'string') {\n                err.message = body.error;\n                err.status = res.status;\n            }\n            else if (Array.isArray(body.error.errors)) {\n                err.message = body.error.errors\n                    .map((err2) => err2.message)\n                    .join('\\n');\n                err.code = body.error.code;\n                err.errors = body.error.errors;\n            }\n            else {\n                err.message = body.error.message;\n                err.code = body.error.code;\n            }\n        }\n        else if (res && res.status >= 400) {\n            // Consider all 4xx and 5xx responses errors.\n            err.message = body;\n            err.status = res.status;\n        }\n        return err;\n    }\n}\nexports.DefaultTransporter = DefaultTransporter;\n/**\n * Default user agent.\n */\nDefaultTransporter.USER_AGENT = `${PRODUCT_NAME}/${pkg.version}`;\n"]},"metadata":{},"sourceType":"script"}